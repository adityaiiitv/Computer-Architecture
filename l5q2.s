 AREA LAB5,CODE,READONLY
 ENTRY			   		; ENTRY
 LDR R3,=NUMBERS		; LOAD NUMBERS
 b SWIDECIDER			; CALL SWIDECIDER
 b DECIDER				; GOTO DECIDER
DECIDER
 LDR R5,[lr,#-4]
 BIC R5,R5,#0xff000000	; CHECK THE LAST BIT
 CMP R5,#1				; IF 1
 BLEQ ADDITION			; GOTO ADDITION
 CMP R5,#2				; IF 2
 BLEQ MULTIPLICATION	; GOTO MULTIPLICATION
ADDITION
 ADD R0,R0,R1
 ADD R0,R0,R2
 LDR R6,=0x3000			; STORE THE RESULT
 STR R0,[R6]
 B LAST					; GOTO LAST
MULTIPLICATION
 MUL R0,R1,R0
 MUL R0,R2,R0
 LDR R6,=0x3000
 STR R0,[R6]
 B LAST					; GOTO LAST
SWIDECIDER
 LDMIA R3,{R0-R2}		; LOAD THE NUMBERS
 SWI 01					; USE 01 OR 02
NUMBERS DCD 4,8,15
LAST
 END					; END OF PROGRAM